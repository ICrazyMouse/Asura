<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.asura.restapi.mapper.WeChatMapper">
    <insert id="saveWeChatUser" parameterType="com.asura.restapi.model.WeChatUser" >
    INSERT INTO tb_tax_wehat_user(openId, nickName, gender, city, province, country, avatarurl, source,uid)
    VALUE (#{openId,jdbcType=VARCHAR},#{nickName,jdbcType=VARCHAR},#{gender,jdbcType=VARCHAR},
    #{city,jdbcType=VARCHAR},#{province,jdbcType=VARCHAR},#{country,jdbcType=VARCHAR},
    #{avatarUrl,jdbcType=VARCHAR},#{source,jdbcType=VARCHAR},#{uid,jdbcType=VARCHAR})
    </insert>



    <select id="queryWeChatUser" resultType="com.asura.restapi.model.WeChatUser">
        SELECT * from tb_tax_wehat_user t1 where t1.uid = #{uid,jdbcType=VARCHAR}
    </select>

    <select id="checkWeChatUserOpenId" resultType="com.asura.restapi.model.WeChatUser">
        SELECT * from tb_tax_wehat_user t1  where t1.openId = #{openId,jdbcType=VARCHAR}
        and t1.source =#{source,jdbcType=VARCHAR}
    </select>
</mapper>